<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'/>
    <title>Security Misconceptions Game</title>
    <script type="module">
        import Turtle from "./turtle.js";
        import { Point } from "./AbstractLib.js";
        var main = new Turtle("Main_Turtle", new Point(100,100), 0, "turtlecanvas");
        window.main = main;
        function mainLoop(executee)
        {
            //setInterval(function(){main.drawSelf()}, 10);
        }
        document.addEventListener('DOMContentLoaded', mainLoop(main));
    </script>
  </head>
  <body style="background-color: rgb(33,46,54)">
    <h1 style="color: whitesmoke">Turtles!</h1>
    <div style="display: flex; width: 95vw; height: 90vh">
      <div style="display: flex; flex-direction: column; width: 60%; height: 85%">
         <canvas id="turtlecanvas" width="2000" height="2000" style="background-color: black; border: solid 4px whitesmoke; width: 95%; height: 100%;"></canvas>
      </div>
      <div style="display: flex; flex-direction: column; width: 40%; height: 85%; justify-content: space-between;">
         <textarea id="input" style="background-color: rgb(67, 72, 91); height: 80%; border: solid 4px black; resize: none; color: whitesmoke;"></textarea>
         <button style="height: 15%" onclick="dummy()">EXECUTE</button>
      </div>
    </div>
    
    <script>
      function dummy()
      {
        alert("EXECUTION FUCNTION");
      }

      function getCanvasDrawCoordinates(canvas, event) {
      const rect = canvas.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      return {x: x, y: y};
      }

      const canvas = document.getElementById('turtlecanvas');
      canvas.addEventListener('click', function(event) {
      const coordinates = getCanvasDrawCoordinates(canvas, event);
      console.log(`Clicked at (${coordinates.x}, ${coordinates.y})`);
      });

    </script>
  </body>
</html>